{"version":3,"sources":["components/Filter.js","components/Form.js","components/Person.js","components/Persons.js","components/Notification.js","components/ErrorMessage.js","services/phonebook.js","App.js","index.js"],"names":["Filter","filter","handleChange","value","onChange","Form","handleSubmit","newName","handlePersonChange","newNumber","handleNumberChange","onSubmit","type","Person","person","handleDelete","name","number","onClick","Persons","personsToShow","deletePerson","map","id","Notification","notification","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorMessage","errorMessage","baseUrl","axios","get","then","response","data","newObject","post","delete","personObject","put","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","setNotification","setErrorMessage","useEffect","console","log","phonebookService","initialPhonebook","showNotification","message","setTimeout","toLowerCase","includes","event","target","preventDefault","oldPersonObject","find","window","confirm","newPersonObject","catch","error","returnedPerson","concat","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c1060be8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, handleChange }) => {\n    return (\n        <div>\n            Filter names: <input value={filter} onChange={handleChange} />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Form = ({ handleSubmit, newName, handlePersonChange, newNumber, handleNumberChange }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <h2>Add new contact</h2>\n            <div>Name: <input value={newName} onChange={handlePersonChange} /></div>\n            <div>Number: <input value={newNumber} onChange={handleNumberChange} /></div>\n            <div><button type=\"submit\">Add</button></div>\n        </form>\n    )\n}\n\nexport default Form","import React from 'react'\n\nconst Person = ({ person, handleDelete }) => {\n    return (\n        <p>{person.name} {person.number} <button onClick={handleDelete}>Delete</button></p>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ personsToShow, deletePerson }) => {\n    \n\n    return (\n        personsToShow.map(person =>\n        <Person person={person}\n            key={person.name}\n            handleDelete={() => deletePerson(person.id)} />)\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ notification }) => {\n    const notificationStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n\n    if (notification === null) {\n        return null\n    }\n    return (\n        <div style={notificationStyle}>\n            {notification}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorMessage = ({ errorMessage }) => {\n    const messageStyle = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n\n    if (errorMessage === null) {\n        return null\n    }\n    return (\n        <div style={messageStyle}>\n            {errorMessage}\n        </div>\n    )\n}\n\nexport default ErrorMessage","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst del = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst replace = (id, personObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, personObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll,  create, del, replace }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\nimport phonebookService from './services/phonebook'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setNewFilter] = useState('')\n  const [notification, setNotification] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    console.log('effect');\n    phonebookService\n      .getAll()\n      .then(initialPhonebook => {\n        console.log('promise fulfilled');\n        setPersons(initialPhonebook)\n      })\n  }, [])\n\n  const showNotification = (message) => {\n    setNotification(message)\n    setTimeout(() => {\n      setNotification(null)\n    }, 4000)\n  }\n\n  const showError = (message) => {\n    setErrorMessage(message)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 4000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    \n    const oldPersonObject = persons.find(person => person.name === newName)\n    \n    if (oldPersonObject) {\n      if (window.confirm(`${newName} is already added to phonebook. Do you want to replace the old number with the new one?`)) {\n      \n        const newPersonObject = { ...oldPersonObject, number: newNumber }\n        phonebookService\n          .replace(newPersonObject.id, newPersonObject)\n          .then(() => {\n            setPersons(persons.map(person => person.id !== newPersonObject.id ? person : newPersonObject))\n            showNotification(`Updated number for ${newPersonObject.name} to ${newPersonObject.number}`)\n          })\n          .catch(error => {\n            setPersons(persons.filter(person => person !== newPersonObject.name))\n            showError(`Information for ${newPersonObject.name} has already been removed`)\n          })\n        \n        }\n\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      phonebookService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          showNotification(`Added ${returnedPerson.name} to phonebook`)\n        })\n        .catch(error => {\n          alert(`add name '${personObject.name} failed`)\n        })\n      }\n    \n     \n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = id => {\n    if (window.confirm(\"Delete contact?\")) {\n      phonebookService\n      .del(id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== id))\n        showNotification('Person deleted successfully')\n      })\n      .catch(error => {\n        alert(`del name failed`)\n      })\n    }\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <ErrorMessage errorMessage={errorMessage} />\n      <Filter filter={filter} handleChange={handleFilterChange} />\n      <Form handleSubmit={addPerson} newName={newName} handlePersonChange={handlePersonChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons personsToShow={personsToShow} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}